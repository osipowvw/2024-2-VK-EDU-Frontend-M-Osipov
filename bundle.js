(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#message-form"),t=document.querySelector(".form-input"),n=document.getElementById("messages-container"),s=document.getElementById("switch-user-button"),a=document.getElementById("user-name"),r="Максим";function c(e){var t=document.createElement("div");t.classList.add("message"),e.sender===r?t.classList.add("user-b"):t.classList.add("user-a"),t.innerHTML="\n            <strong>".concat(e.sender,"</strong>: ").concat(e.text,'\n            <span class="message-time">').concat(e.timestamp,"</span>\n        "),n.appendChild(t),n.scrollTop=n.scrollHeight}function o(){a.textContent=r}(JSON.parse(localStorage.getItem("messages"))||[]).forEach(c),e.addEventListener("submit",(function(e){e.preventDefault();var n,s,a,o,i,d=t.value.trim();if(d){var m={text:d,sender:r,timestamp:(n=new Date,s=String(n.getDate()).padStart(2,"0"),a=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getHours()).padStart(2,"0"),i=String(n.getMinutes()).padStart(2,"0"),"".concat(s,".").concat(a," ").concat(o,":").concat(i))};c(m),function(e){var t=JSON.parse(localStorage.getItem("messages"))||[];t.push(e),localStorage.setItem("messages",JSON.stringify(t))}(m),t.value=""}})),t.addEventListener("keypress",(function(t){"Enter"===t.key&&(t.preventDefault(),e.dispatchEvent(new Event("submit")))})),s.addEventListener("click",(function(){r="Дженнифер"===r?"Максим":"Дженнифер",o(),n.innerHTML="",(JSON.parse(localStorage.getItem("messages"))||[]).forEach((function(e){var t=e.sender===r,s=document.createElement("div");s.classList.add("message",t?"user-b":"user-a"),s.innerHTML="\n                <strong>".concat(e.sender,"</strong>: ").concat(e.text,'\n                <span class="message-time">').concat(e.timestamp,"</span>\n            "),n.appendChild(s)})),n.scrollTop=n.scrollHeight})),o()}))})();