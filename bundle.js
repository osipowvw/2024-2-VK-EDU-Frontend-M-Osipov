(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#message-form"),t=document.querySelector(".form-input"),n=document.getElementById("messages-container");function s(e){var t=document.createElement("div");t.classList.add("message"),t.innerHTML="\n            <strong>".concat(e.sender,"</strong> (").concat(e.timestamp,"): ").concat(e.text,"\n        "),n.appendChild(t),n.scrollTop=n.scrollHeight}(JSON.parse(localStorage.getItem("messages"))||[]).forEach(s),e.addEventListener("submit",(function(e){e.preventDefault();var n=t.value.trim();if(n){var a={text:n,sender:"Вы",timestamp:(new Date).toLocaleString()};s(a),function(e){var t=JSON.parse(localStorage.getItem("messages"))||[];t.push(e),localStorage.setItem("messages",JSON.stringify(t))}(a),t.value=""}})),t.addEventListener("keypress",(function(t){"Enter"===t.key&&(t.preventDefault(),e.dispatchEvent(new Event("submit")))}))}))})();