(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#message-form"),t=document.querySelector(".form-input"),n=document.getElementById("messages-container"),a=document.getElementById("switch-user-button"),s=document.getElementById("user-name"),r="Максим";function c(e){var t=document.createElement("div");t.classList.add("message"),"Дженнифер"===e.sender?t.classList.add("user-a"):t.classList.add("user-b"),t.innerHTML="\n            <strong>".concat(e.sender,"</strong>: ").concat(e.text,'\n            <span class="message-time">').concat(e.timestamp,"</span>\n        "),n.appendChild(t),n.scrollTop=n.scrollHeight}function o(){s.textContent=r}(JSON.parse(localStorage.getItem("messages"))||[]).forEach(c),e.addEventListener("submit",(function(e){e.preventDefault();var n,a,s,o,i,d=t.value.trim();if(d){var m={text:d,sender:r,timestamp:(n=new Date,a=String(n.getDate()).padStart(2,"0"),s=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getHours()).padStart(2,"0"),i=String(n.getMinutes()).padStart(2,"0"),"".concat(a,".").concat(s," ").concat(o,":").concat(i))};c(m),function(e){var t=JSON.parse(localStorage.getItem("messages"))||[];t.push(e),localStorage.setItem("messages",JSON.stringify(t))}(m),t.value=""}})),t.addEventListener("keypress",(function(t){"Enter"===t.key&&(t.preventDefault(),e.dispatchEvent(new Event("submit")))})),a.addEventListener("click",(function(){r="Дженнифер"===r?"Максим":"Дженнифер",o()})),o()}))})();